# Samosbor Server

## Запросы от клиента к серверу
- `register () -> (client_id: ClientId, unit_id: UnitId, location: Location)` - клиент приходит, сервер генерит ему юнита, вставляет в свой стейт и отдает клиенту локацию, id клиента и id unit-a который на этой локации он

- `event (event: Event) -> ()` - клиент принимает команду от пользователя, вычисляет на своей стороне с учетом текущего стейта. если он сам видит, что туда сходить не получится, говорит об этом въюхе. Иначе апдейтит локальный стейт и сообщает об этом серверу, чтобы тот свой проапдейтил и остальным апдейт разослал.

- `disconnect ()` - Клиент грит что он пошел. Сервер говорит ок, вали. Удаляет из стейта и говорит остальным чтобы тоже потерли.


## От сервера клиенту
 - `event (unit_id: Uuid, event: Event)` - ну тип чувак тут случилось чойта, ты это, стейт свой посчитай на предмет этого.


